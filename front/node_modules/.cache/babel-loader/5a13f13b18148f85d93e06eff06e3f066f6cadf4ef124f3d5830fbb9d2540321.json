{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-390e0c91\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"stock-wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"stock\"\n};\nconst _hoisted_3 = {\n  class: \"stock-header\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"header-title\"\n}, \"Склад\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_order_materials_button = _resolveComponent(\"v-order-materials-button\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_input_number = _resolveComponent(\"el-input-number\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"header\", _hoisted_3, [_hoisted_4, _createVNode(_component_v_order_materials_button, {\n    class: \"header-button\",\n    onAddOrder: $options.addOrder\n  }, null, 8 /* PROPS */, [\"onAddOrder\"])]), (_openBlock(), _createBlock(_component_el_table, {\n    data: $data.materials,\n    stripe: \"\",\n    class: \"client-table\",\n    key: $data.materials.id\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"id\",\n      label: \"id\",\n      align: \"left\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"category\",\n      label: \"категория\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"name\",\n      label: \"названия\"\n    }), _createVNode(_component_el_table_column, {\n      label: \"количество\"\n    }, {\n      default: _withCtx(props => [_createVNode(_component_el_input_number, {\n        modelValue: props.row.amount,\n        \"onUpdate:modelValue\": $event => props.row.amount = $event,\n        min: 0,\n        onChange: $event => $options.updateAmount($event, props.row.id)\n      }, null, 8 /* PROPS */, [\"modelValue\", \"onUpdate:modelValue\", \"onChange\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"])), _createVNode(_component_el_pagination, {\n    class: \"stock-pagination\",\n    \"onUpdate:currentPage\": $options.updatePage,\n    \"page-size\": $data.page.size,\n    \"pager-count\": 11,\n    layout: \"prev, pager, next\",\n    total: $data.page.total\n  }, null, 8 /* PROPS */, [\"onUpdate:currentPage\", \"page-size\", \"total\"])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_v_order_materials_button","onAddOrder","$options","addOrder","_createBlock","_component_el_table","data","$data","materials","stripe","key","id","_component_el_table_column","prop","label","align","default","_withCtx","props","_component_el_input_number","row","amount","$event","min","onChange","updateAmount","_component_el_pagination","updatePage","page","size","layout","total"],"sources":["/home/de_falt/Code/Java/Курсовая/eguitars_workshop/front/src/views/StockView.vue"],"sourcesContent":["<template>\r\n    <div class=\"stock-wrapper\">\r\n        <div class=\"stock\">\r\n            <header class=\"stock-header\">\r\n                <h2 class=\"header-title\">Склад</h2>\r\n                <v-order-materials-button class=\"header-button\" @addOrder=\"addOrder\"/>\r\n            </header>\r\n            <el-table :data=\"materials\" stripe class=\"client-table\" :key=\"materials.id\">\r\n                <el-table-column prop=\"id\" label=\"id\" align=\"left\"/>\r\n                <el-table-column prop=\"category\" label=\"категория\"/>\r\n                <el-table-column prop=\"name\" label=\"названия\"/>\r\n                <el-table-column label=\"количество\">\r\n                    <template #default=\"props\">\r\n                        <el-input-number v-model=\"props.row.amount\" :min=\"0\"\r\n                                         @change=\"updateAmount($event, props.row.id)\"/>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-pagination\r\n                    class=\"stock-pagination\"\r\n                    @update:current-page=\"updatePage\"\r\n                    :page-size=\"page.size\"\r\n                    :pager-count=\"11\"\r\n                    layout=\"prev, pager, next\"\r\n                    :total=\"page.total\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport stock from \"@/api/stock\";\r\nimport VOrderMaterialsButton from \"@/components/VOrderMaterialsButton.vue\";\r\n\r\nexport default {\r\n    name: \"StockView\",\r\n    components: {VOrderMaterialsButton},\r\n    data() {\r\n        return {\r\n            page: {\r\n                size: 20,\r\n                total: 400,\r\n              current: 1\r\n            },\r\n            materials: []\r\n        }\r\n    },\r\n    methods: {\r\n        updatePage(val) {\r\n            this.materials = stock.get(val, this.page.size)\r\n            this.page.current = val\r\n        },\r\n        updateAmount(val, id) {\r\n            stock.updateAmount(id, val)\r\n            setTimeout(()=> {\r\n                  this.updatePage(this.page.current)\r\n                }, 10\r\n            )\r\n        },\r\n        addOrder(order){\r\n          stock.add(order);\r\n          setTimeout(()=> {\r\n                this.updatePage(this.page.current)\r\n              }, 10\r\n          )\r\n        }\r\n    },\r\n    created() {\r\n        this.materials = stock.get(1, this.page.size)\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.stock-wrapper {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n\r\n.stock-header {\r\n    margin: 20px 0;\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.header-title {\r\n    margin-left: auto;\r\n}\r\n\r\n.header-button {\r\n    margin-left: auto;\r\n}\r\n\r\n.stock {\r\n    width: 100%;\r\n    max-width: 1800px;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n\r\n.stock-pagination {\r\n    margin-top: 20px;\r\n}\r\n\r\n.client-table {\r\n    flex-grow: 1;\r\n}\r\n\r\n.table-row {\r\n    margin-left: 40px;\r\n}\r\n</style>"],"mappings":";;;EACSA,KAAK,EAAC;AAAe;;EACjBA,KAAK,EAAC;AAAO;;EACNA,KAAK,EAAC;AAAc;gEACxBC,mBAAA,CAAmC;EAA/BD,KAAK,EAAC;AAAc,GAAC,OAAK;;;;;;;;uBAH1CE,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBFF,mBAAA,CAwBM,OAxBNG,UAwBM,GAvBFH,mBAAA,CAGS,UAHTI,UAGS,GAFLC,UAAmC,EACnCC,YAAA,CAAsEC,mCAAA;IAA5CR,KAAK,EAAC,eAAe;IAAES,UAAQ,EAAEC,QAAA,CAAAC;4DAE/DC,YAAA,CAUWC,mBAAA;IAVAC,IAAI,EAAEC,KAAA,CAAAC,SAAS;IAAEC,MAAM,EAAN,EAAM;IAACjB,KAAK,EAAC,cAAc;IAAEkB,GAAG,EAAEH,KAAA,CAAAC,SAAS,CAACG;;sBACpE,MAAoD,CAApDZ,YAAA,CAAoDa,0BAAA;MAAnCC,IAAI,EAAC,IAAI;MAACC,KAAK,EAAC,IAAI;MAACC,KAAK,EAAC;QAC5ChB,YAAA,CAAoDa,0BAAA;MAAnCC,IAAI,EAAC,UAAU;MAACC,KAAK,EAAC;QACvCf,YAAA,CAA+Ca,0BAAA;MAA9BC,IAAI,EAAC,MAAM;MAACC,KAAK,EAAC;QACnCf,YAAA,CAKkBa,0BAAA;MALDE,KAAK,EAAC;IAAY;MACpBE,OAAO,EAAAC,QAAA,CAAEC,KAAK,KACrBnB,YAAA,CAC+DoB,0BAAA;oBADrCD,KAAK,CAACE,GAAG,CAACC,MAAM;yCAAhBH,KAAK,CAACE,GAAG,CAACC,MAAM,GAAAC,MAAA;QAAGC,GAAG,EAAE,CAAC;QACjCC,QAAM,EAAAF,MAAA,IAAEpB,QAAA,CAAAuB,YAAY,CAACH,MAAM,EAAEJ,KAAK,CAACE,GAAG,CAACT,EAAE;;;;;;gCAIvEZ,YAAA,CAOE2B,wBAAA;IANMlC,KAAK,EAAC,kBAAkB;IACvB,sBAAmB,EAAEU,QAAA,CAAAyB,UAAU;IAC/B,WAAS,EAAEpB,KAAA,CAAAqB,IAAI,CAACC,IAAI;IACpB,aAAW,EAAE,EAAE;IAChBC,MAAM,EAAC,mBAAmB;IACzBC,KAAK,EAAExB,KAAA,CAAAqB,IAAI,CAACG"},"metadata":{},"sourceType":"module","externalDependencies":[]}