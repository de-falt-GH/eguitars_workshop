{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { ref } from \"vue\";\nexport default {\n  get(pageNumber, pageSize) {\n    // const generateOrders = () => {\n    //     let orders = []\n    //     for (let i = 0; i < getRandomInt(21); i++) {\n    //         orders.push(10000 + getRandomInt(90000))\n    //     }\n    //     return orders\n    // }\n    //\n    // const telephones = ['+7(73)626-20-72', '+7(27)204-65-59', '+7(202)718-45-67', '+7(292)097-11-44', '+7(591)405-61-88', '+7(0725)006-92-10', '+7(82)368-86-99']\n    // const surnames = ['Овчинников', 'Борисов ', 'Савельев', 'Комаров', 'Крюков', 'Исаев', 'Мартынов']\n    // const names = ['Артур', 'Валентин', 'Павел', 'Фрол', 'Арсений', 'Гурий', 'Роман']\n    // const patronymics = ['Леонидович', 'Львович', 'Филиппович', 'Глебович', 'Альвианович', 'Данилович', 'Антонинович']\n\n    let clients = ref([]);\n    // for (let i = 0; i < pageSize; i++) {\n    //     clients.push({\n    //         id: pageNumber * 100 + i,\n    //         name: `${surnames[getRandomInt(surnames.length)]} ${names[getRandomInt(names.length)]} ${patronymics[getRandomInt(patronymics.length)]}`,\n    //         telephone: telephones[getRandomInt(telephones.length)],\n    //         orders: generateOrders()\n    //     })\n    // }\n\n    console.log(pageNumber, pageSize);\n    axios({\n      method: 'get',\n      url: 'http://localhost:8080/clients'\n    }).then(response => {\n      for (let i = (pageNumber - 1) * pageSize; i < Math.min(pageNumber * pageSize, response.data.length); i++) {\n        clients.value.push({\n          \"id\": response.data[i].id,\n          \"name\": response.data[i].name,\n          \"telephone\": response.data[i].phoneNumber,\n          \"orders\": response.data[i].order_ids\n        });\n      }\n    });\n    return clients;\n  },\n  delete(id) {\n    axios({\n      method: 'delete',\n      url: `http://localhost:8080/clients/${id}`\n    });\n  },\n  addClient(client) {\n    axios({\n      method: 'post',\n      url: 'http://localhost:8080/clients',\n      data: {\n        \"name\": client.name,\n        \"phoneNumber\": client.telephone\n      }\n    });\n  }\n};\n\n// function getRandomInt(max) {\n//     return Math.floor(Math.random() * max);\n// }","map":{"version":3,"names":["axios","ref","get","pageNumber","pageSize","clients","console","log","method","url","then","response","i","Math","min","data","length","value","push","id","name","phoneNumber","order_ids","delete","addClient","client","telephone"],"sources":["/home/de_falt/Code/Java/Курсовая/eguitars_workshop/front/src/api/clients.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {ref} from \"vue\";\r\n\r\nexport default {\r\n    get(pageNumber, pageSize) {\r\n        // const generateOrders = () => {\r\n        //     let orders = []\r\n        //     for (let i = 0; i < getRandomInt(21); i++) {\r\n        //         orders.push(10000 + getRandomInt(90000))\r\n        //     }\r\n        //     return orders\r\n        // }\r\n        //\r\n        // const telephones = ['+7(73)626-20-72', '+7(27)204-65-59', '+7(202)718-45-67', '+7(292)097-11-44', '+7(591)405-61-88', '+7(0725)006-92-10', '+7(82)368-86-99']\r\n        // const surnames = ['Овчинников', 'Борисов ', 'Савельев', 'Комаров', 'Крюков', 'Исаев', 'Мартынов']\r\n        // const names = ['Артур', 'Валентин', 'Павел', 'Фрол', 'Арсений', 'Гурий', 'Роман']\r\n        // const patronymics = ['Леонидович', 'Львович', 'Филиппович', 'Глебович', 'Альвианович', 'Данилович', 'Антонинович']\r\n\r\n        let clients = ref([])\r\n        // for (let i = 0; i < pageSize; i++) {\r\n        //     clients.push({\r\n        //         id: pageNumber * 100 + i,\r\n        //         name: `${surnames[getRandomInt(surnames.length)]} ${names[getRandomInt(names.length)]} ${patronymics[getRandomInt(patronymics.length)]}`,\r\n        //         telephone: telephones[getRandomInt(telephones.length)],\r\n        //         orders: generateOrders()\r\n        //     })\r\n        // }\r\n\r\n        console.log(pageNumber, pageSize)\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: 'http://localhost:8080/clients'\r\n        })\r\n            .then((response) => {\r\n                for (let i=(pageNumber-1)*pageSize; i < Math.min(pageNumber*pageSize, response.data.length); i++) {\r\n                    clients.value.push({\r\n                        \"id\": response.data[i].id,\r\n                        \"name\": response.data[i].name,\r\n                        \"telephone\": response.data[i].phoneNumber,\r\n                        \"orders\": response.data[i].order_ids\r\n                    })\r\n                }\r\n            })\r\n\r\n        return clients\r\n    },\r\n\r\n    delete(id) {\r\n        axios({\r\n            method: 'delete',\r\n            url: `http://localhost:8080/clients/${id}`\r\n        });\r\n    },\r\n    addClient(client) {\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://localhost:8080/clients',\r\n            data: {\r\n                \"name\": client.name,\r\n                \"phoneNumber\": client.telephone\r\n            }\r\n        })\r\n    }\r\n\r\n}\r\n\r\n// function getRandomInt(max) {\r\n//     return Math.floor(Math.random() * max);\r\n// }"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,GAAG,QAAO,KAAK;AAEvB,eAAe;EACXC,GAAGA,CAACC,UAAU,EAAEC,QAAQ,EAAE;IACtB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA,IAAIC,OAAO,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACrB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEAK,OAAO,CAACC,GAAG,CAACJ,UAAU,EAAEC,QAAQ,CAAC;IAEjCJ,KAAK,CAAC;MACFQ,MAAM,EAAE,KAAK;MACbC,GAAG,EAAE;IACT,CAAC,CAAC,CACGC,IAAI,CAAEC,QAAQ,IAAK;MAChB,KAAK,IAAIC,CAAC,GAAC,CAACT,UAAU,GAAC,CAAC,IAAEC,QAAQ,EAAEQ,CAAC,GAAGC,IAAI,CAACC,GAAG,CAACX,UAAU,GAACC,QAAQ,EAAEO,QAAQ,CAACI,IAAI,CAACC,MAAM,CAAC,EAAEJ,CAAC,EAAE,EAAE;QAC9FP,OAAO,CAACY,KAAK,CAACC,IAAI,CAAC;UACf,IAAI,EAAEP,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACO,EAAE;UACzB,MAAM,EAAER,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACQ,IAAI;UAC7B,WAAW,EAAET,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACS,WAAW;UACzC,QAAQ,EAAEV,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACU;QAC/B,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;IAEN,OAAOjB,OAAO;EAClB,CAAC;EAEDkB,MAAMA,CAACJ,EAAE,EAAE;IACPnB,KAAK,CAAC;MACFQ,MAAM,EAAE,QAAQ;MAChBC,GAAG,EAAG,iCAAgCU,EAAG;IAC7C,CAAC,CAAC;EACN,CAAC;EACDK,SAASA,CAACC,MAAM,EAAE;IACdzB,KAAK,CAAC;MACFQ,MAAM,EAAE,MAAM;MACdC,GAAG,EAAE,+BAA+B;MACpCM,IAAI,EAAE;QACF,MAAM,EAAEU,MAAM,CAACL,IAAI;QACnB,aAAa,EAAEK,MAAM,CAACC;MAC1B;IACJ,CAAC,CAAC;EACN;AAEJ,CAAC;;AAED;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}