{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { ref } from \"vue\";\nexport default {\n  get(pageNumber, pageSize) {\n    // const categories = ['молодые', 'пожилые', 'суперпожилые']\n    // const names = ['сталь', 'металл', 'литий', 'камень', 'кость мамонта']\n\n    let materials = ref([]);\n    // for (let i = 0; i < pageSize; i++) {\n    //     materials.push({\n    //         id: 100000 + getRandomInt(900000),\n    //         category: categories[getRandomInt(categories.length)],\n    //         name: names[getRandomInt(names.length)],\n    //         amount: getRandomInt(100)\n    //     })\n    // }\n\n    axios({\n      method: 'get',\n      url: 'http://localhost:8080/materials'\n    }).then(response => {\n      for (let i = (pageNumber - 1) * pageSize; i < Math.min(pageNumber * pageSize, response.data.length); i++) {\n        materials.value.push({\n          id: response.data[i].id,\n          category: response.data[i].category,\n          name: response.data[i].name,\n          amount: response.data[i].amount\n        });\n      }\n    });\n    return materials;\n  },\n  add(material) {\n    axios({\n      method: 'post',\n      url: 'http://localhost:8080/materials',\n      data: {\n        name: material.name,\n        amount: material.amount,\n        category: material.category\n      }\n    });\n  },\n  updateAmount(id, val) {\n    axios({\n      method: 'put',\n      url: `http://localhost:8080/materials/${id}`,\n      data: {\n        value: val\n      }\n    });\n  }\n};\n\n// function getRandomInt(max) {\n//     return Math.floor(Math.random() * max);\n// }","map":{"version":3,"names":["axios","ref","get","pageNumber","pageSize","materials","method","url","then","response","i","Math","min","data","length","value","push","id","category","name","amount","add","material","updateAmount","val"],"sources":["/home/de_falt/Code/Java/Курсовая/eguitars_workshop/front/src/api/stock.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {ref} from \"vue\";\r\n\r\nexport default {\r\n    get(pageNumber, pageSize) {\r\n        // const categories = ['молодые', 'пожилые', 'суперпожилые']\r\n        // const names = ['сталь', 'металл', 'литий', 'камень', 'кость мамонта']\r\n\r\n        let materials = ref([])\r\n        // for (let i = 0; i < pageSize; i++) {\r\n        //     materials.push({\r\n        //         id: 100000 + getRandomInt(900000),\r\n        //         category: categories[getRandomInt(categories.length)],\r\n        //         name: names[getRandomInt(names.length)],\r\n        //         amount: getRandomInt(100)\r\n        //     })\r\n        // }\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: 'http://localhost:8080/materials'\r\n        })\r\n            .then((response) => {\r\n                for (let i=(pageNumber-1)*pageSize; i < Math.min(pageNumber*pageSize, response.data.length); i++) {\r\n                    materials.value.push({\r\n                        id: response.data[i].id,\r\n                        category: response.data[i].category,\r\n                        name: response.data[i].name,\r\n                        amount: response.data[i].amount\r\n                    })\r\n                }\r\n            })\r\n\r\n        return materials\r\n    },\r\n    add(material){\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://localhost:8080/materials',\r\n            data: {\r\n                name: material.name,\r\n                amount: material.amount,\r\n                category: material.category\r\n            }\r\n        })\r\n    },\r\n    updateAmount(id, val)\r\n    {\r\n        axios({\r\n            method: 'put',\r\n            url: `http://localhost:8080/materials/${id}`,\r\n            data: {\r\n                value: val\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n// function getRandomInt(max) {\r\n//     return Math.floor(Math.random() * max);\r\n// }"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,GAAG,QAAO,KAAK;AAEvB,eAAe;EACXC,GAAGA,CAACC,UAAU,EAAEC,QAAQ,EAAE;IACtB;IACA;;IAEA,IAAIC,SAAS,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEAD,KAAK,CAAC;MACFM,MAAM,EAAE,KAAK;MACbC,GAAG,EAAE;IACT,CAAC,CAAC,CACGC,IAAI,CAAEC,QAAQ,IAAK;MAChB,KAAK,IAAIC,CAAC,GAAC,CAACP,UAAU,GAAC,CAAC,IAAEC,QAAQ,EAAEM,CAAC,GAAGC,IAAI,CAACC,GAAG,CAACT,UAAU,GAACC,QAAQ,EAAEK,QAAQ,CAACI,IAAI,CAACC,MAAM,CAAC,EAAEJ,CAAC,EAAE,EAAE;QAC9FL,SAAS,CAACU,KAAK,CAACC,IAAI,CAAC;UACjBC,EAAE,EAAER,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACO,EAAE;UACvBC,QAAQ,EAAET,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACQ,QAAQ;UACnCC,IAAI,EAAEV,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACS,IAAI;UAC3BC,MAAM,EAAEX,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACU;QAC7B,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;IAEN,OAAOf,SAAS;EACpB,CAAC;EACDgB,GAAGA,CAACC,QAAQ,EAAC;IACTtB,KAAK,CAAC;MACFM,MAAM,EAAE,MAAM;MACdC,GAAG,EAAE,iCAAiC;MACtCM,IAAI,EAAE;QACFM,IAAI,EAAEG,QAAQ,CAACH,IAAI;QACnBC,MAAM,EAAEE,QAAQ,CAACF,MAAM;QACvBF,QAAQ,EAAEI,QAAQ,CAACJ;MACvB;IACJ,CAAC,CAAC;EACN,CAAC;EACDK,YAAYA,CAACN,EAAE,EAAEO,GAAG,EACpB;IACIxB,KAAK,CAAC;MACFM,MAAM,EAAE,KAAK;MACbC,GAAG,EAAG,mCAAkCU,EAAG,EAAC;MAC5CJ,IAAI,EAAE;QACFE,KAAK,EAAES;MACX;IACJ,CAAC,CAAC;EACN;AACJ,CAAC;;AAED;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}