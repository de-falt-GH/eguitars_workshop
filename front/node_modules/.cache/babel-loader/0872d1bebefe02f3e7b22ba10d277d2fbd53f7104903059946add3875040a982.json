{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { ref } from \"vue\";\nexport default {\n  get(pageNumber, pageSize) {\n    // const statuses = getStatuses()\n    // const instruments = ['гитара', 'барабан', 'флейта', 'труба']\n\n    let orders = ref([]);\n    // for (let i = 0; i < pageSize; i++) {\n    //     orders.push({\n    //         id: pageNumber * 100 + i,\n    //         clientId: 100000 + getRandomInt(900000),\n    //         instrument: instruments[getRandomInt(instruments.length)],\n    //         description: 'очень очень бобробное описание заказа',\n    //         status: Object.create(statuses[getRandomInt(statuses.length)]),\n    //         date: new Date(2023, getRandomInt(12), getRandomInt(25), getRandomInt(24), getRandomInt(60), 0)\n    //     })\n    // }\n\n    axios({\n      method: 'get',\n      url: 'http://localhost:8080/orders'\n    }).then(response => {\n      for (let i = (pageNumber - 1) * pageSize; i < Math.min(pageNumber * pageSize, response.data.length); i++) {\n        orders.value.push({\n          id: response.data[i].id,\n          clientId: response.data[i].clientId,\n          instrument: response.data[i].instrument,\n          description: response.data[i].description,\n          status: {\n            value: response.data[i].status,\n            label: response.data[i].status\n          },\n          date: response.data[i].date\n        });\n      }\n    });\n    return orders;\n  },\n  delete(id) {\n    axios({\n      method: 'delete',\n      url: `http://localhost:8080/orders/${id}`\n    });\n  },\n  add(order) {\n    axios({\n      method: 'post',\n      url: 'http://localhost:8080/orders',\n      data: {\n        instrument: order.instrument,\n        client_id: order.clientId,\n        description: order.description\n      }\n    });\n  },\n  getStatuses() {\n    return getStatuses();\n  },\n  updateOption(id, newStatus) {\n    console.log(id, newStatus);\n    axios({\n      method: 'put',\n      url: `http://localhost:8080/orders/${id}`,\n      data: {\n        value: newStatus.value\n      }\n    });\n  }\n};\n\n// function getRandomInt(max) {\n//     return Math.floor(Math.random() * max);\n// }\n\nfunction getStatuses() {\n  return [{\n    value: 'accepted',\n    label: 'принят'\n  }, {\n    value: 'work',\n    label: 'в работе'\n  }, {\n    value: 'confirmed',\n    label: 'подтвержден'\n  }, {\n    value: 'done',\n    label: 'готов'\n  }];\n}","map":{"version":3,"names":["axios","ref","get","pageNumber","pageSize","orders","method","url","then","response","i","Math","min","data","length","value","push","id","clientId","instrument","description","status","label","date","delete","add","order","client_id","getStatuses","updateOption","newStatus","console","log"],"sources":["/home/de_falt/Code/Java/Курсовая/eguitars_workshop/front/src/api/orders.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {ref} from \"vue\";\r\n\r\nexport default {\r\n    get(pageNumber, pageSize) {\r\n        // const statuses = getStatuses()\r\n        // const instruments = ['гитара', 'барабан', 'флейта', 'труба']\r\n\r\n        let orders = ref([])\r\n        // for (let i = 0; i < pageSize; i++) {\r\n        //     orders.push({\r\n        //         id: pageNumber * 100 + i,\r\n        //         clientId: 100000 + getRandomInt(900000),\r\n        //         instrument: instruments[getRandomInt(instruments.length)],\r\n        //         description: 'очень очень бобробное описание заказа',\r\n        //         status: Object.create(statuses[getRandomInt(statuses.length)]),\r\n        //         date: new Date(2023, getRandomInt(12), getRandomInt(25), getRandomInt(24), getRandomInt(60), 0)\r\n        //     })\r\n        // }\r\n\r\n        axios({\r\n            method: 'get',\r\n            url: 'http://localhost:8080/orders'\r\n        })\r\n            .then((response) => {\r\n                for (let i=(pageNumber-1)*pageSize; i < Math.min(pageNumber*pageSize, response.data.length); i++) {\r\n                    orders.value.push({\r\n                        id: response.data[i].id,\r\n                        clientId: response.data[i].clientId,\r\n                        instrument: response.data[i].instrument,\r\n                        description: response.data[i].description,\r\n                        status: {\r\n                            value: response.data[i].status,\r\n                            label: response.data[i].status\r\n                        },\r\n                        date: response.data[i].date\r\n                    })\r\n                }\r\n            })\r\n\r\n        return orders\r\n    },\r\n    delete(id) {\r\n        axios({\r\n            method: 'delete',\r\n            url: `http://localhost:8080/orders/${id}`\r\n        });\r\n    },\r\n    add(order) {\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://localhost:8080/orders',\r\n            data: {\r\n                instrument: order.instrument,\r\n                client_id: order.clientId,\r\n                description: order.description\r\n            }\r\n        })\r\n    },\r\n    getStatuses(){\r\n        return getStatuses()\r\n    },\r\n    updateOption(id, newStatus) {\r\n        console.log(id, newStatus)\r\n        axios({\r\n            method: 'put',\r\n            url: `http://localhost:8080/orders/${id}`,\r\n            data:{\r\n                value: newStatus.value\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n// function getRandomInt(max) {\r\n//     return Math.floor(Math.random() * max);\r\n// }\r\n\r\nfunction getStatuses(){\r\n    return [\r\n        {\r\n            value: 'accepted',\r\n            label: 'принят'\r\n        },\r\n\r\n        {\r\n            value: 'work',\r\n            label: 'в работе'\r\n        },\r\n        {\r\n            value: 'confirmed',\r\n            label: 'подтвержден'\r\n        },\r\n        {\r\n            value: 'done',\r\n            label: 'готов'\r\n        }\r\n\r\n    ]\r\n}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,GAAG,QAAO,KAAK;AAEvB,eAAe;EACXC,GAAGA,CAACC,UAAU,EAAEC,QAAQ,EAAE;IACtB;IACA;;IAEA,IAAIC,MAAM,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACpB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEAD,KAAK,CAAC;MACFM,MAAM,EAAE,KAAK;MACbC,GAAG,EAAE;IACT,CAAC,CAAC,CACGC,IAAI,CAAEC,QAAQ,IAAK;MAChB,KAAK,IAAIC,CAAC,GAAC,CAACP,UAAU,GAAC,CAAC,IAAEC,QAAQ,EAAEM,CAAC,GAAGC,IAAI,CAACC,GAAG,CAACT,UAAU,GAACC,QAAQ,EAAEK,QAAQ,CAACI,IAAI,CAACC,MAAM,CAAC,EAAEJ,CAAC,EAAE,EAAE;QAC9FL,MAAM,CAACU,KAAK,CAACC,IAAI,CAAC;UACdC,EAAE,EAAER,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACO,EAAE;UACvBC,QAAQ,EAAET,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACQ,QAAQ;UACnCC,UAAU,EAAEV,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACS,UAAU;UACvCC,WAAW,EAAEX,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACU,WAAW;UACzCC,MAAM,EAAE;YACJN,KAAK,EAAEN,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACW,MAAM;YAC9BC,KAAK,EAAEb,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACW;UAC5B,CAAC;UACDE,IAAI,EAAEd,QAAQ,CAACI,IAAI,CAACH,CAAC,CAAC,CAACa;QAC3B,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;IAEN,OAAOlB,MAAM;EACjB,CAAC;EACDmB,MAAMA,CAACP,EAAE,EAAE;IACPjB,KAAK,CAAC;MACFM,MAAM,EAAE,QAAQ;MAChBC,GAAG,EAAG,gCAA+BU,EAAG;IAC5C,CAAC,CAAC;EACN,CAAC;EACDQ,GAAGA,CAACC,KAAK,EAAE;IACP1B,KAAK,CAAC;MACFM,MAAM,EAAE,MAAM;MACdC,GAAG,EAAE,8BAA8B;MACnCM,IAAI,EAAE;QACFM,UAAU,EAAEO,KAAK,CAACP,UAAU;QAC5BQ,SAAS,EAAED,KAAK,CAACR,QAAQ;QACzBE,WAAW,EAAEM,KAAK,CAACN;MACvB;IACJ,CAAC,CAAC;EACN,CAAC;EACDQ,WAAWA,CAAA,EAAE;IACT,OAAOA,WAAW,CAAC,CAAC;EACxB,CAAC;EACDC,YAAYA,CAACZ,EAAE,EAAEa,SAAS,EAAE;IACxBC,OAAO,CAACC,GAAG,CAACf,EAAE,EAAEa,SAAS,CAAC;IAC1B9B,KAAK,CAAC;MACFM,MAAM,EAAE,KAAK;MACbC,GAAG,EAAG,gCAA+BU,EAAG,EAAC;MACzCJ,IAAI,EAAC;QACDE,KAAK,EAAEe,SAAS,CAACf;MACrB;IACJ,CAAC,CAAC;EACN;AACJ,CAAC;;AAED;AACA;AACA;;AAEA,SAASa,WAAWA,CAAA,EAAE;EAClB,OAAO,CACH;IACIb,KAAK,EAAE,UAAU;IACjBO,KAAK,EAAE;EACX,CAAC,EAED;IACIP,KAAK,EAAE,MAAM;IACbO,KAAK,EAAE;EACX,CAAC,EACD;IACIP,KAAK,EAAE,WAAW;IAClBO,KAAK,EAAE;EACX,CAAC,EACD;IACIP,KAAK,EAAE,MAAM;IACbO,KAAK,EAAE;EACX,CAAC,CAEJ;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}