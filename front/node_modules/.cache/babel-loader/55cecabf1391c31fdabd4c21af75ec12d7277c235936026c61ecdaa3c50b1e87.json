{"ast":null,"code":"import stock from \"@/api/stock\";\nimport VOrderMaterialsButton from \"@/components/VOrderMaterialsButton.vue\";\nexport default {\n  name: \"StockView\",\n  components: {\n    VOrderMaterialsButton\n  },\n  data() {\n    return {\n      page: {\n        size: 20,\n        total: 400,\n        current: 1\n      },\n      materials: []\n    };\n  },\n  methods: {\n    updatePage(val) {\n      this.materials = stock.get(val, this.page.size);\n      this.page.current = val;\n    },\n    updateAmount(val, id) {\n      stock.updateAmount(id, val);\n      setTimeout(() => {\n        this.updatePage(this.page.current);\n      }, 10);\n    },\n    addOrder(order) {\n      stock.add(order);\n      setTimeout(() => {\n        this.updatePage(this.page.current);\n      }, 10);\n    }\n  },\n  created() {\n    this.materials = stock.get(1, this.page.size);\n  }\n};","map":{"version":3,"names":["stock","VOrderMaterialsButton","name","components","data","page","size","total","current","materials","methods","updatePage","val","get","updateAmount","id","setTimeout","addOrder","order","add","created"],"sources":["/home/de_falt/Code/Java/Курсовая/eguitars_workshop/front/src/views/StockView.vue"],"sourcesContent":["<template>\r\n    <div class=\"stock-wrapper\">\r\n        <div class=\"stock\">\r\n            <header class=\"stock-header\">\r\n                <h2 class=\"header-title\">Склад</h2>\r\n                <v-order-materials-button class=\"header-button\" @addOrder=\"addOrder\"/>\r\n            </header>\r\n            <el-table :data=\"materials\" stripe class=\"client-table\" :key=\"materials.id\">\r\n                <el-table-column prop=\"id\" label=\"id\" align=\"left\"/>\r\n                <el-table-column prop=\"category\" label=\"категория\"/>\r\n                <el-table-column prop=\"name\" label=\"названия\"/>\r\n                <el-table-column label=\"количество\">\r\n                    <template #default=\"props\">\r\n                        <el-input-number v-model=\"props.row.amount\" :min=\"0\"\r\n                                         @change=\"updateAmount($event, props.row.id)\"/>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-pagination\r\n                    class=\"stock-pagination\"\r\n                    @update:current-page=\"updatePage\"\r\n                    :page-size=\"page.size\"\r\n                    :pager-count=\"11\"\r\n                    layout=\"prev, pager, next\"\r\n                    :total=\"page.total\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport stock from \"@/api/stock\";\r\nimport VOrderMaterialsButton from \"@/components/VOrderMaterialsButton.vue\";\r\n\r\nexport default {\r\n    name: \"StockView\",\r\n    components: {VOrderMaterialsButton},\r\n    data() {\r\n        return {\r\n            page: {\r\n                size: 20,\r\n                total: 400,\r\n              current: 1\r\n            },\r\n            materials: []\r\n        }\r\n    },\r\n    methods: {\r\n        updatePage(val) {\r\n            this.materials = stock.get(val, this.page.size)\r\n            this.page.current = val\r\n        },\r\n        updateAmount(val, id) {\r\n            stock.updateAmount(id, val)\r\n            setTimeout(()=> {\r\n                  this.updatePage(this.page.current)\r\n                }, 10\r\n            )\r\n        },\r\n        addOrder(order){\r\n          stock.add(order);\r\n          setTimeout(()=> {\r\n                this.updatePage(this.page.current)\r\n              }, 10\r\n          )\r\n        }\r\n    },\r\n    created() {\r\n        this.materials = stock.get(1, this.page.size)\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.stock-wrapper {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n\r\n.stock-header {\r\n    margin: 20px 0;\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.header-title {\r\n    margin-left: auto;\r\n}\r\n\r\n.header-button {\r\n    margin-left: auto;\r\n}\r\n\r\n.stock {\r\n    width: 100%;\r\n    max-width: 1800px;\r\n    height: 100%;\r\n\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n}\r\n\r\n.stock-pagination {\r\n    margin-top: 20px;\r\n}\r\n\r\n.client-table {\r\n    flex-grow: 1;\r\n}\r\n\r\n.table-row {\r\n    margin-left: 40px;\r\n}\r\n</style>"],"mappings":"AAgCA,OAAOA,KAAI,MAAO,aAAa;AAC/B,OAAOC,qBAAoB,MAAO,wCAAwC;AAE1E,eAAe;EACXC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE;IAACF;EAAqB,CAAC;EACnCG,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,IAAI,EAAE;QACFC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,GAAG;QACZC,OAAO,EAAE;MACX,CAAC;MACDC,SAAS,EAAE;IACf;EACJ,CAAC;EACDC,OAAO,EAAE;IACLC,UAAUA,CAACC,GAAG,EAAE;MACZ,IAAI,CAACH,SAAQ,GAAIT,KAAK,CAACa,GAAG,CAACD,GAAG,EAAE,IAAI,CAACP,IAAI,CAACC,IAAI;MAC9C,IAAI,CAACD,IAAI,CAACG,OAAM,GAAII,GAAE;IAC1B,CAAC;IACDE,YAAYA,CAACF,GAAG,EAAEG,EAAE,EAAE;MAClBf,KAAK,CAACc,YAAY,CAACC,EAAE,EAAEH,GAAG;MAC1BI,UAAU,CAAC,MAAK;QACV,IAAI,CAACL,UAAU,CAAC,IAAI,CAACN,IAAI,CAACG,OAAO;MACnC,CAAC,EAAE,EACP;IACJ,CAAC;IACDS,QAAQA,CAACC,KAAK,EAAC;MACblB,KAAK,CAACmB,GAAG,CAACD,KAAK,CAAC;MAChBF,UAAU,CAAC,MAAK;QACV,IAAI,CAACL,UAAU,CAAC,IAAI,CAACN,IAAI,CAACG,OAAO;MACnC,CAAC,EAAE,EACP;IACF;EACJ,CAAC;EACDY,OAAOA,CAAA,EAAG;IACN,IAAI,CAACX,SAAQ,GAAIT,KAAK,CAACa,GAAG,CAAC,CAAC,EAAE,IAAI,CAACR,IAAI,CAACC,IAAI;EAChD;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}